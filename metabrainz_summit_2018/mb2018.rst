:title: MetaBrainz Summit 2018 - Resources
:data-transition-duration: 1500
:css: mb2018.css
:skip-help: true

This is a presentation of system resources, their usage, etc for MetaBrainz Summit 2018

You can render this presentation to HTML with the command::

    hovercraft mb2018.rst

And connect with a browser to http://localhost:8000

.. header::

    .. image:: images/background.png

 
 .. footer::

    "System & Network Resources", Laurent Monin, MetaBrainz Summit 2018 

----

MetaBrainz Summit 2018
======================

Our infrastructure
------------------


----

Number of servers
=================

* Hetzner: 20 physical machines

* Hetzner Cloud: 8 virtual machines

* Google Cloud: 12 active instances

* Total: 40 servers

.. note::

    TODO

----

Memory, storage, processing power
=================================

* 1.5 Terabytes of RAM

* 18 Terabytes of storage

* 1.7M Bogomips on 240 CPU cores


.. note::

    TODO.

----

:data-y: r1000

Network traffic
===============

* *180 Terabytes* served this year

* *~50 mbits/s* out, *20 mbits/s* in


.. note::

    TODO

----

:data-rotate-x: 90

.. image:: images/ping_latency_world.png
    :height: 600px


----

:data-scale: 0.5
:data-x: r1000
:data-rotate: 90

MusicBrainz services
====================

Number of queries served this year
  
**11 Billions** of 200s answers


----

:data-rotate: 90

MusicBrainz services
====================

* Incoming Requests: 850 req/s

* Handled by upstreams: 280 req/s

----

:data-y: r1000

Post QNAP
=========



Bandwidth usage went from

*120* mbits/s to *50* mbits/s


----

SOLR
====

* 6 servers on Hetzner Cloud
* *180 req/s* during peak time
* Worst mean response time: *125 ms*


----

Docker
======

~170 containers running


